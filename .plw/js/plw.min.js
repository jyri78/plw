/* PLW.JS 1.0 by jyri78 */
"use strict";var plw={$:function(e){return document.getElementById(e)}};XMLHttpRequest.prototype.sendAsBinary||(XMLHttpRequest.prototype.sendAsBinary=function(e){for(var t=e.length,n=new Uint8Array(t),s=0;s<t;s++)n[s]=255&e.charCodeAt(s);this.send(n)}),plw.AJAXSubmit=function(){function h(e){0<e.status||function(e){var t=new XMLHttpRequest;if(t.submittedData=e,t.onload=e.success,t.open("post",e.receiver,!0),3===e.technique){var n="---------------------------"+Date.now().toString(16);t.setRequestHeader("Content-Type","multipart/form-data; boundary="+n),t.sendAsBinary("--"+n+"\r\n"+e.segments.join("--"+n+"\r\n")+"--"+n+"--\r\n")}else t.setRequestHeader("Content-Type",e.contentType),t.send(e.segments.join(2===e.technique?"\r\n":"&"))}(e)}function c(e){this.owner.segments[this.segmentIdx]+=e.target.result+"\r\n",this.owner.status--,h(this.owner)}function p(e){return e.replace(/[\s\=\\]/g,"\\$&")}function n(e,t){var n,s,i,r,a;this.contentType=e.enctype?e.enctype:"application/x-www-form-urlencoded",this.technique="multipart/form-data"===this.contentType?3:"text/plain"===this.contentType?2:1,this.receiver=e.action,this.status=0,this.segments=[],this.success=t;for(var o=2===this.technique?p:escape,u=0;u<e.elements.length;u++)if((i=e.elements[u]).hasAttribute("name"))if("FILE"===(s="INPUT"===i.nodeName.toUpperCase()?i.getAttribute("type").toUpperCase():"TEXT")&&0<i.files.length)if(3===this.technique)for(n=0;n<i.files.length;n++)a=i.files[n],(r=new FileReader).segmentIdx=this.segments.length,r.owner=this,r.onload=c,this.segments.push('Content-Disposition: form-data; name="'+i.name+'"; filename="'+a.name+'"\r\nContent-Type: '+a.type+"\r\n\r\n"),this.status++,r.readAsBinaryString(a);else for(n=0;n<i.files.length;this.segments.push(o(i.name)+"="+o(i.files[n++].name)));else("RADIO"!==s&&"CHECKBOX"!==s||i.checked)&&this.segments.push(3===this.technique?'Content-Disposition: form-data; name="'+i.name+'"\r\n\r\n'+i.value+"\r\n":o(i.name)+"="+o(i.value));h(this)}return function(e,t){e.action&&t&&new n(e,t)}}();